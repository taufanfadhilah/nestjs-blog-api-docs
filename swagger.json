{"openapi":"3.0.0","paths":{"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterSuccessResponse"}}}},"500":{"description":"error: email is exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterEmailExistsResponse"}}}}},"tags":["Auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginSuccessResponse"}}}},"401":{"description":"unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponse"}}}}},"tags":["Auth"]}},"/auth/me":{"get":{"operationId":"AuthController_detail","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterSuccessResponse"}}}}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/reset":{"delete":{"operationId":"AuthController_reset","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}}},"tags":["Auth"]}},"/posts":{"post":{"operationId":"PostsController_create","parameters":[],"requestBody":{"required":true,"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostResponse"}}}},"400":{"description":"error: validation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorValidationResponse"}}}}},"tags":["Posts"],"security":[{"bearer":[]}]},"get":{"operationId":"PostsController_findAll","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostResponse"}}}}},"tags":["Posts"],"security":[{"bearer":[]}]}},"/posts/{id}":{"get":{"operationId":"PostsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Should be an id of a post that exists in the database","example":1,"schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetPostResponse"}}}}},"tags":["Posts"],"security":[{"bearer":[]}]},"patch":{"operationId":"PostsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Should be an id of a post that exists in the database","example":1,"schema":{"type":"number"}}],"requestBody":{"required":true,"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePostDto"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostResponse"}}}},"400":{"description":"error: validation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorValidationResponse"}}}}},"tags":["Posts"],"security":[{"bearer":[]}]},"delete":{"operationId":"PostsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Should be an id of a post that exists in the database","example":1,"schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletePostResponse"}}}},"404":{"description":"error: validation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponse"}}}}},"tags":["Posts"],"security":[{"bearer":[]}]}},"/posts/reset":{"delete":{"operationId":"PostsController_reset","parameters":[],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}}},"tags":["Posts"],"security":[{"bearer":[]}]}},"/comments":{"post":{"operationId":"CommentsController_create","parameters":[],"requestBody":{"required":true,"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentResponse"}}}},"400":{"description":"error: validation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorValidationResponse"}}}}},"tags":["Comments"],"security":[{"bearer":[]}]}},"/comments/reset":{"delete":{"operationId":"CommentsController_reset","parameters":[],"responses":{"200":{"description":""}},"tags":["Comments"],"security":[{"bearer":[]}]}},"/comments/{id}":{"delete":{"operationId":"CommentsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Should be an id of a comment that exists in the database","example":1,"schema":{"type":"number"}}],"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteCommentResponse"}}}},"404":{"description":"error: validation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponse"}}}}},"tags":["Comments"],"security":[{"bearer":[]}]}}},"info":{"title":"Blog API","description":"Documentation of Blog API endpoints","version":"0.1","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","description":"Default JWT Authorization","type":"http","in":"header"}},"schemas":{"RegisterDto":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"email":{"type":"string","example":"john@nest.test"},"password":{"type":"string","example":"Secret_123"}},"required":["name","email","password"]},"RegisterSuccessResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"User registered successfully"},"data":{"type":"object","example":{"id":1,"name":"John Doe","email":"john@nest.test","role":"member","created_at":"2022-12-11T23:57:54.588Z","updated_at":"2022-12-11T23:57:54.588Z"}}},"required":["success","message","data"]},"RegisterEmailExistsResponse":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Email already exists"}},"required":["success","message"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"john@nest.test"},"password":{"type":"string","example":"Secret_123"}},"required":["email","password"]},"LoginSuccessResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"User registered successfully"},"data":{"type":"object","example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InVzZXIzQG5lc3QudGVzdCIsImlkIjoxLCJpYXQiOjE2NzA4MDM0NDUsImV4cCI6MTY3MDgwMzUwNX0.832JwXZ06mTexrUgFoqS9ebHg0h-qvwik3ZVXSuQfto"}}},"required":["success","message","data"]},"UnauthorizedResponse":{"type":"object","properties":{"statusCode":{"type":"number","example":401},"message":{"type":"string","example":"Unauthorized"}},"required":["statusCode","message"]},"SuccessResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"success"},"data":{"type":"object"}},"required":["success","message","data"]},"CreatePostDto":{"type":"object","properties":{"title":{"type":"string","example":"Title for the first blog"},"content":{"type":"string","example":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}},"required":["title","content"]},"CreatePostResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"User registered successfully"},"data":{"type":"object","example":{"id":1,"user_id":1,"title":"Title for the first blog","content":"Lorem Ipsum","comments":[],"created_at":"2022-12-11T23:57:54.588Z","updated_at":"2022-12-11T23:57:54.588Z"}}},"required":["success","message","data"]},"ErrorValidationResponse":{"type":"object","properties":{"statusCode":{"type":"number","example":401},"message":{"example":["user_id should not be empty","user_id must be an integer number"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Bad Request"}},"required":["statusCode","message","error"]},"GetPostResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Get all posts"},"data":{"type":"object","example":{"id":1,"user_id":1,"title":"Title for the first blog","content":"Lorem Ipsum","comments":[],"created_at":"2022-12-11T23:57:54.588Z","updated_at":"2022-12-11T23:57:54.588Z"}}},"required":["success","message","data"]},"UpdatePostDto":{"type":"object","properties":{"title":{"type":"string","example":"Title for the first blog"},"content":{"type":"string","example":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}},"required":["title","content"]},"DeletePostResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Post deleted successfully"},"data":{"type":"object"}},"required":["success","message","data"]},"NotFoundResponse":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Post not found"}},"required":["success","message"]},"CreateCommentDto":{"type":"object","properties":{"post_id":{"type":"number","example":1},"content":{"type":"string","example":"Have a good day!"}},"required":["post_id","content"]},"CreateCommentResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Comment created successfully"},"data":{"type":"object","example":{"id":1,"user_id":1,"title":"My first blog","content":"My first blog lorem ipsum","created_at":"2022-12-10T15:07:43.777Z","updated_at":"2022-12-10T15:07:43.777Z"}}},"required":["success","message","data"]},"DeleteCommentResponse":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Comment deleted successfully"},"data":{"type":"object"}},"required":["success","message","data"]}}}}